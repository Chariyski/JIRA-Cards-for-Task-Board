<!DOCTYPE html>
<html>

    <head lang="en">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>JIRA Cards for Task Board</title>

        <!-- 3RD PARTY -->
        <script src="scripts/bundle.js"></script>

        <!-- APP FILES -->

        <!-- ELEMENTS -->
        <link rel="import" href="html/elements.html">
    </head>

    <body unresolved class="fullbleed layout vertical">
        <span id="browser-sync-binding"></span>
        <template is="dom-bind" id="app">

            <paper-drawer-panel id="paperDrawerPanel">
                <div drawer>

                    <!-- Drawer Toolbar -->
                    <paper-toolbar id="drawerToolbar">
                        <span class="paper-font-title">Menu</span>
                    </paper-toolbar>

                    <!-- Drawer Content -->
                    <paper-menu class="list" attr-for-selected="data-route" selected="{{route}}"
                                on-iron-select="onMenuSelect">
                        <a data-route="home" href="/index.html">
                            <iron-icon icon="home"></iron-icon>
                            <span>Home</span>
                        </a>

                        <a data-route="users" href="/users">
                            <iron-icon icon="info"></iron-icon>
                            <span>Users</span>
                        </a>

                        <a data-route="contact" href="/contact">
                            <iron-icon icon="mail"></iron-icon>
                            <span>Contact</span>
                        </a>
                    </paper-menu>
                </div>
                <paper-header-panel main mode="waterfall-tall">

                    <!-- Main Toolbar -->
                    <paper-toolbar id="mainToolbar">
                        <paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle></paper-icon-button>
                        <span class="flex"></span>

                        <!-- Toolbar icons -->
                        <paper-icon-button icon="refresh"></paper-icon-button>
                        <paper-icon-button icon="search"></paper-icon-button>

                        <!-- Application name -->
                        <div class="middle paper-font-display2 app-name">JIRA Cards for Task Board</div>

                        <!-- Application sub title -->
                        <div class="bottom title"></div>

                    </paper-toolbar>

                    <!-- Main Content -->
                    <div class="content">
                        <iron-pages attr-for-selected="data-route" selected="{{route}}">

                            <section data-route="home">
                                <paper-material class="horizontal layout around-justified end" elevation="1">
                                    <paper-input
                                        id="JIRA-URL-address"
                                        label="https://sapjira.wdf.sap.corp/"></paper-input>
                                    <!--pattern="(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})"-->

                                    <paper-input
                                        id="JIRA-project"
                                        label="BGSOFUIRODOPI"></paper-input>
                                    <paper-input
                                        id="JIRA-project-version"
                                        label="101511"></paper-input>

                                    <paper-button on-click="getJIRAIssues">Get issues</paper-button>
                                    <paper-spinner id="ajax-spinner" alt="Loading issues"></paper-spinner>

                                    <iron-ajax id="ajax-for-issues"
                                               content-type="application/json"
                                               handle-as="json"
                                               last-response="{{ajax}}"
                                               on-request="onJIRAIssuesRequest"
                                               on-response="onJIRAIssuesResponse"></iron-ajax>
                                </paper-material>

                                <scrum-cards id="scrum-cards-container"
                                             class="vertical center"
                                             issues="{{ajax.issues}}"></scrum-cards>
                            </section>

                            <section data-route="users">
                                <paper-material elevation="1">
                                    <h2 class="paper-font-display2">Users</h2>

                                    <p>This is the users section</p>
                                    <a href="/users/Rob">Rob</a>
                                </paper-material>
                            </section>

                            <section data-route="user-info">
                                <paper-material elevation="1">
                                    <h2 class="paper-font-display2">
                                        User:<span>{{params.name}}</span>
                                    </h2>

                                    <div>This is <span>{{params.name}}</span>'s section</div>
                                </paper-material>
                            </section>

                            <section data-route="contact">
                                <paper-material elevation="1">
                                    <h2 class="paper-font-display2">Contact</h2>

                                    <p>This is the contact section</p>
                                </paper-material>
                            </section>
                        </iron-pages>
                    </div>
                </paper-header-panel>
            </paper-drawer-panel>

            <paper-toast id="caching-complete"
                         duration="6000"
                         text="Caching complete! This app will work offline.">
            </paper-toast>
        </template>

        <!-- build:js scripts/app.js -->
        <script src="scripts/main.js"></script>
        <script src="scripts/third-party/analytics.js"></script>
        <!-- endbuild-->
    </body>

</html>
